{"version":3,"sources":["webpack:///./src/page/list/list.vue?569e","webpack:///./src/page/list/list.vue","webpack:///./src/page/list/list.vue?bd2f","webpack:///./src/page/list/index.js","webpack:///./src/api/index.js","webpack:///./src/configs/index.js","webpack:///./src/utils/http.js","webpack:///src/page/list/list.vue"],"names":["list_listvue_type_script_lang_js","list_list","Object","componentNormalizer","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","page_sessionid","_e","page_udid","url","testName","on","click","linkTo","attrs","src","appIconUrl","alt","appName","_m","appInfo","anliList","length","_l","item","index","key","$event","anliLink","interactUrl","appId","appBanner","__webpack_exports__","env","console","log","configs","API_DAtestTA_getPrem","test1","module","exports","chunkMode","callApi","root","mockHost","host","vue__WEBPACK_IMPORTED_MODULE_1__","use","vue_resource__WEBPACK_IMPORTED_MODULE_2__","http","options","emulateJSON","emulateHTTP","get","opts","$http","query","data","_configs___WEBPACK_IMPORTED_MODULE_3___default","a","params","then","response","res","babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default","resolve","catch","err","reject","handleChange","setInitParams","getData","appLink","render_html","render_top","top"],"mappings":"2GAAgNA,QAAA,UCkBhNC,EAXAC,OAAAC,EAAA,EAAAD,CACAF,ECRA,WAA0B,IAAAI,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BN,EAAA,eAAAI,EAAA,OAAAJ,EAAAO,GAAA,SAAAP,EAAAQ,GAAAR,EAAAS,gBAAA,UAAAT,EAAAU,KAAAV,EAAAO,GAAA,KAAAP,EAAA,UAAAI,EAAA,OAAAJ,EAAAO,GAAA,SAAAP,EAAAQ,GAAAR,EAAAW,WAAA,UAAAX,EAAAU,KAAAV,EAAAO,GAAA,KAAAP,EAAA,IAAAI,EAAA,OAAAJ,EAAAO,GAAA,eAAAP,EAAAQ,GAAAR,EAAAY,KAAA,UAAAZ,EAAAU,KAAAV,EAAAO,GAAA,OAAAP,EAAAQ,GAAAR,EAAAa,UAAA,QAAAT,EAAA,OAA4UE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,WAAAQ,IAA2BC,MAAAf,EAAAgB,UAAoBhB,EAAAO,GAAA,KAAAH,EAAA,OAAwBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,eAAAW,OAAkCC,IAAAlB,EAAAmB,WAAAC,IAAA,MAA+BpB,EAAAO,GAAA,KAAAH,EAAA,OAAwBE,YAAA,WAAqBF,EAAA,MAAAJ,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAqB,gBAAArB,EAAAO,GAAA,KAAAP,EAAAsB,GAAA,GAAAtB,EAAAO,GAAA,KAAAH,EAAA,OAAyFE,YAAA,wBAAkCN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAuB,gBAAAvB,EAAAO,GAAA,KAAAH,EAAA,OAA0DE,YAAA,SAAmBF,EAAA,MAAAJ,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAP,EAAAwB,SAAAC,OAAA,EAAArB,EAAA,KAAAJ,EAAA0B,GAAA1B,EAAA,kBAAA2B,EAAAC,GAAoH,OAAAxB,EAAA,MAAgByB,IAAAD,IAAUxB,EAAA,OAAYU,IAAIC,MAAA,SAAAe,GAAyB9B,EAAA+B,SAAAJ,EAAAK,YAAAL,EAAAM,WAA6C7B,EAAA,OAAYa,OAAOC,IAAAS,EAAAO,UAAAd,IAAA,QAA+BpB,EAAAO,GAAA,KAAAH,EAAA,OAA0BE,YAAA,YAAsBF,EAAA,MAAAJ,EAAAO,GAAAP,EAAAQ,GAAAmB,EAAAN,YAAArB,EAAAO,GAAA,KAAAH,EAAA,OAAgEE,YAAA,SAAmBN,EAAAO,GAAAP,EAAAQ,GAAAmB,EAAAJ,mBAAqCnB,EAAA,OAAaE,YAAA,eAAyBN,EAAAO,GAAA,gCAC75C,WAAoC,IAAaL,EAAbD,KAAaE,eAA0BC,EAAvCH,KAAuCI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,KAAUE,YAAA,QAAhHL,KAAkIM,GAAA,YAAlIN,KAAkIM,GAAA,KAAAH,EAAA,KAAyCE,YAAA,WAA3KL,KAAgMM,GAAA,gBDUpO,EACA,KACA,KACA,cEXA4B,EAAA,4BCQA,IAAMC,EAAM,aACZC,QAAQC,IAAI,UAAYF,GACxB,IAEMG,GACJC,qBAAA,iCACAC,MAAA,eAEFC,EAAOC,QAAUJ,oBCRjBG,EAAOC,SANLC,WAAW,EACXC,SAAS,EACTC,KAAM,GACNC,SAAU,8DACVC,KAAM,0HCNRC,EAAA,EAAIC,IAAIC,EAAA,GAERF,EAAA,EAAIG,KAAKC,QAAQC,aAAc,EAC/BL,EAAA,EAAIG,KAAKC,QAAQE,aAAc,EAQxB,IAqCMC,EAAM,SAACC,GAClB,IAAIC,EAAQT,EAAA,EAAIG,KAEZxC,EAAM6C,EAAK7C,IACX+C,EAAQF,EAAKG,KAEjB,OAAOF,EACJF,IAAIK,EAAAC,EAAOjB,QAAU,GAAGgB,EAAAC,EAAOd,KAASpC,EAAM,GAAGiD,EAAAC,EAAOf,SAAanC,GACpEmD,OAAQJ,IAETK,KAAK,SAAAC,GACJ,IAAIC,EAAMD,EAASL,KACnB,OAAOO,EAAAL,EAAQM,QAAQF,KAExBG,MAAM,SAAAC,GAGL,OAFAjC,QAAQC,IAAR,sBACAD,QAAQC,IAAIgC,GACLH,EAAAL,EAAQS,OAAOD,mGChB5BnC,EAAA,QAEA,kCAGA,uCAGA,WACA,SACA,WACA,0BAGA,SAEA,oBAEA,aACA,YAEA,yCAIAqC,oBACAC,qBACAC,mDAIAzE,wBACA+D,KAAA,SAAAE,cAGAA,kCAIAS,6BAIA,uBAFAA,2GAOAhE,sDAGAgD,8BACA/C,uCACAH,6CACAE,oCAGAV,mBAEAW,aACA,wDACA,WAEA,8BACAH,wBAEA,2DAGAmD,IACAgB,+CAgBAC,0DAIAjB,KAEAkB,mBACAzD,0BACAF,0BACAI,qBACAU,oGACAtB","file":"static/js/5.06ad8c077f7f3c4483aa.js","sourcesContent":["import mod from \"-!../../../node_modules/_babel-loader@7.1.4@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.0.7@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@7.1.4@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.0.7@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=9f1fc1b6\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.0.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-content\"},[(_vm.page_sessionid)?_c('div',[_vm._v(\"\\n    \"+_vm._s(_vm.page_sessionid)+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.page_udid)?_c('div',[_vm._v(\"\\n    \"+_vm._s(_vm.page_udid)+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.url)?_c('div',[_vm._v(\"\\n    url : \"+_vm._s(_vm.url)+\"\\n  \")]):_vm._e(),_vm._v(\"\\n  \"+_vm._s(_vm.testName)+\"\\n  \"),_c('div',{staticClass:\"topPic\"},[_c('div',{staticClass:\"top_link\",on:{\"click\":_vm.linkTo}}),_vm._v(\" \"),_c('div',{staticClass:\"info clearfix\"},[_c('div',{staticClass:\"game fl\"},[_c('img',{staticClass:\"fl game_icon\",attrs:{\"src\":_vm.appIconUrl,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"des fl\"},[_c('h3',[_vm._v(_vm._s(_vm.appName))])])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"game_description fl\"},[_vm._v(_vm._s(_vm.appInfo))])])]),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_c('h3',[_vm._v(\"安利墙\")]),_vm._v(\" \"),(_vm.anliList.length > 0)?_c('ul',_vm._l((_vm.anliList),function(item,index){return _c('li',{key:index},[_c('div',{on:{\"click\":function($event){_vm.anliLink(item.interactUrl, item.appId)}}},[_c('img',{attrs:{\"src\":item.appBanner,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h4',[_vm._v(_vm._s(item.appName))]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_vm._v(_vm._s(item.appInfo))])])])})):_c('div',{staticClass:\"empty-list\"},[_vm._v(\"\\n      暂无安利内容\\n    \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task fr\"},[_c('p',{staticClass:\"top\"},[_vm._v(\"独家算力任务\")]),_vm._v(\" \"),_c('p',{staticClass:\"bottom\"},[_vm._v(\"登录送星钻\")])])}]\nexport { render, staticRenderFns }","import './list.scss'\nimport List from './list.vue'\n\nexport default List\n","/**\n * 统一API方法清单定义文件配置\n * 示例 api (json)\n * 规范：使用API_ACTION_NAME格式（api标识别，方法类型，方法名称）\n * ACTION名称约定：\n * QUERY：查询\n * ADD：添加\n * UPDATE：更新\n * DEL：删除\n * @type {String}\n */\nconst env = process.env.NODE_ENV\nconsole.log('config=' + env)\nlet devApi = '/mock' // 模拟地址 /mock\nconst api = env === 'production' ? '' : devApi\nconst configs = {\n  API_DAtestTA_getPrem: `${api}/promote/standard/getPrem.json`,\n  test1: `${api}/test1.json`\n}\nmodule.exports = configs\n","/**\n * 常量预配置\n * @type {Object}\n */\nconst configs = {\n  chunkMode: true,\n  callApi: true, // 是否调用真实API服务，否则mock服务调试\n  root: '', // 路由根路径,一般在使用虚拟目录跳转时配置\n  mockHost: 'https://www.easy-mock.com/mock/5a38ab6ae859572ed685340b/api', // easy-mock url\n  host: '' // 请求的服务host地址：http://xxxx.zhongan.com/api/xxxx\n}\nmodule.exports = configs\n","import Vue from 'vue'\nimport VueResource from 'vue-resource'\nimport config from '../configs/'\nVue.use(VueResource)\n\nVue.http.options.emulateJSON = false\nVue.http.options.emulateHTTP = true\n\n/**\n * initLoad\n * @authors zhanwang.ye\n * @param  {...[type]} requests [description]\n * @return {[type]}             [description]\n */\nexport const initLoad = requests => {\n  // const $http = Vue.http\n\n  if (requests.length > 0) {\n    let reqlist = []\n    requests.forEach((item, index) => {\n      reqlist.push(item)\n    })\n    return Promise.all(reqlist)\n      .then(data => {\n        return Promise.resolve(data)\n      })\n      .catch(res => {\n        if (!res.ok) {\n          switch (res.status) {\n            case 404:\n              window.location.href = '/404'\n              break\n            default:\n              console.log(res)\n              alert('请求出错了！')\n              break\n          }\n        }\n        return Promise.reject(res)\n      })\n  }\n  return\n}\n\n/**\n * get request\n * @authors zhanwang.ye\n * @param  {[type]} url   [description]\n * @param  {[type]} query [description]\n * @return {[type]}       [description]\n */\nexport const get = (opts) => {\n  let $http = Vue.http\n\n  let url = opts.url\n  let query = opts.data\n\n  return $http\n    .get(config.callApi ? `${config.host}` + url : `${config.mockHost}` + url, {\n      params: query\n    })\n    .then(response => {\n      let res = response.data\n      return Promise.resolve(res)\n    })\n    .catch(err => {\n      console.log(`request get error:`)\n      console.log(err)\n      return Promise.reject(err)\n    })\n}\n\n/**\n * post request\n * @authors zhanwang.ye\n * @param  {[type]} url   [description]\n * @param  {[type]} query [description]\n * @return {[type]}       [description]\n */\nexport const post = (opts) => {\n  let $http = Vue.http\n\n  let url = opts.url\n  let data = opts.data\n  return $http\n    .post(config.callApi ? `${config.host}` + url : `${config.mockHost}` + url, data)\n    .then(response => {\n      let res = response.data\n      return Promise.resolve(res)\n    })\n    .catch(err => {\n      console.log(`request post error:`)\n      console.log(err)\n      return Promise.reject(err)\n    })\n}\n\n/**\n * jsonp request\n * @authors zhanwang.ye\n * @param  {[type]} url   [description]\n * @param  {[type]} query [description]\n * @return {[type]}       [description]\n */\nexport const getJsonp = (url, query) => {\n  let $http = Vue.http\n  return $http\n    .jsonp(config.callApi ? `${config.host}` + url : `${config.mockHost}` + url, query)\n    .then(response => {\n      let res = response.data\n      return Promise.resolve(res)\n    })\n    .catch(err => {\n      console.log(`request jsonp error:`)\n      console.log(err)\n      return Promise.reject(err)\n    })\n}\n/**\n * 表单提交\n * @param string url\n * @param string method  请求方式, POST, GET ...\n * @param object params  请求数据\n */\nexport const formSubmit = ({ url, method, params, target }) => {\n  const hasOwn = {}.hasOwnProperty\n\n  if (typeof window === 'undefined') {\n    console.log(`Not a browser, form submit url: ${url}`)\n    return\n  }\n  const form = document.createElement('form')\n  form.setAttribute('method', method || 'POST')\n  form.setAttribute('action', url)\n  if (target) {\n    form.setAttribute('target', target)\n  }\n  for (const key in params) {\n    if (hasOwn.call(params, key)) {\n      const hiddenField = document.createElement('input')\n      hiddenField.setAttribute('type', 'hidden')\n      hiddenField.setAttribute('name', key)\n      hiddenField.setAttribute('value', params[key])\n      form.appendChild(hiddenField)\n    }\n  }\n  // 解决js脚本调用新窗口导致的拦截问题\n  const submitBtnField = document.createElement('input')\n  submitBtnField.setAttribute('type', 'submit')\n  submitBtnField.setAttribute('style', 'opacity:0;display:block;width:0;height:0')\n  submitBtnField.setAttribute('class', 'zaPayBtn')\n  form.appendChild(submitBtnField)\n\n  document.body.appendChild(form)\n  submitBtnField.onclick = function(ev) {\n    form.submit()\n  }\n  submitBtnField.click()\n}\n\nexport default {\n  initLoad,\n  get,\n  post,\n  getJsonp,\n  formSubmit\n}\n","<template>\n  <div class=\"list-content\">\n    <div v-if=\"page_sessionid\">\n      {{page_sessionid}}\n    </div>\n    <div v-if=\"page_udid\">\n      {{page_udid}}\n    </div>\n    <div v-if=\"url\">\n      url : {{url}}\n    </div>\n    {{testName}}\n    <div class=\"topPic\">\n      <div @click=\"linkTo\" class=\"top_link\">\n        <!-- <img src=\"../assets/images/app_experience/big_bg.png\"> -->\n      </div>\n      <div class=\"info clearfix\">\n        <div class=\"game fl\">\n          <img :src=\"appIconUrl\" alt=\"\" class=\"fl game_icon\" />\n          <div class=\"des fl\">\n            <h3>{{appName}}</h3>\n          </div>\n        </div>\n        <div class=\"task fr\">\n          <p class=\"top\">独家算力任务</p>\n          <p class=\"bottom\">登录送星钻</p>\n        </div>\n        <div class=\"game_description fl\">{{appInfo}}</div>\n      </div>\n    </div>\n    <div class=\"list\">\n      <h3>安利墙</h3>\n      <ul v-if=\"anliList.length > 0\">\n        <li :key=\"index\" v-for=\"(item, index) in anliList\">\n          <div @click=\"anliLink(item.interactUrl, item.appId)\"><img :src=\"item.appBanner\" alt=''></div>\n          <div class='content'>\n            <h4>{{item.appName}}</h4>\n            <div class='info'>{{item.appInfo}}</div>\n          </div>\n        </li>\n      </ul>\n      <div v-else class=\"empty-list\">\n        暂无安利内容\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as http from '@/utils/http'\nimport * as api from '@/api/'\nimport { setInitParams } from '@/utils/util'\nexport default {\n  name: 'List',\n  data () {\n    return {\n      url: '',\n      dataSource: {},\n      appName: '',  // 游戏名\n      appIconUrl: '',\n      appInfo: '',\n      appId: '',\n      appLink: '',\n      anliList: [\n        {\n          interactUrl: '',\n          appId: ''\n        }\n      ], // 安利墙列表\n      page_sessionid: '',\n      page_udid: '',\n      testName: ''\n    }\n  },\n  computed: {},\n  created () {\n    this.handleChange()\n    this.setInitParams()\n    this.getData()\n  },\n  methods: {\n    handleChange (v) {\n      const self = this\n      http.get({\n        url: api.test1\n      }).then(res => {\n        self.testName = res\n      })\n    },\n    linkTo () {\n      const appLink = this.appLink\n      if (appLink && appLink !== '') {\n        window.location.href = appLink\n      } else {\n        return false\n      }\n      // this.number = Number(this.number) + 1\n    },\n    anliLink (interactUrl, appId) {\n      window.location.href = interactUrl + '?session=' + this.page_sessionid + '&appId=' + appId + '&udid=' + this.page_udid\n    },\n    setInitParams () {\n      const query = this.$route.query\n      this.url = setInitParams(query).url\n      this.page_sessionid = setInitParams(query).page_sessionid\n      this.page_udid = setInitParams(query).page_udid\n    },\n    getData () {\n      const self = this\n      $.ajax({\n        url: self.url,\n        dataType: 'jsonp',\n        jsonpCallback: 'jsonp_' + self.page_sessionid.slice(0, 8),\n        data: {\n          r: 'task/app-web-list',\n          session: self.page_sessionid,\n          platform: 'ios'\n        },\n        success: function (data) {\n          if (data.state.code === 0) {\n            self.dataSource = data\n            self.render_html()\n          }\n        }\n      })\n      // http.get({\n      //   url: self.url,\n      //   data: {\n      //     r: 'task/app-web-list',\n      //     session: self.page_sessionid,\n      //     platform: 'ios'\n      //   }\n      // }).then(res => {\n      //   self.testName = res\n      // })\n    },\n    render_html () {\n      this.render_top()\n      // this.render_list()\n    },\n    render_top () {\n      const data = this.dataSource.data\n      const top = data.top\n\n      this.appName = top.appName\n      this.appIconUrl = top.appIconUrl\n      this.appInfo = top.appInfo\n      this.appId = top.appId\n      this.appLink = top.interactUrl + '?session=' + this.page_sessionid + '&appId=' + this.appid + '&udid=' + this.page_udid\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}