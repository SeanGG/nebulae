(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{2:function(t,e){},"3k/7":function(t,e,n){"use strict";var s=n("nIWl");n.n(s).a},"9h9Y":function(t,e){t.exports={chunkMode:!0,callApi:!0,root:"",mockHost:"https://www.easy-mock.com/mock/5a38ab6ae859572ed685340b/api",host:""}},BU9d:function(t,e,n){t.exports=n.p+"static/images/big_bg.d19eb01.png"},"H/EE":function(t,e,n){t.exports=n.p+"static/images/list_item.9f80b31.png"},Nlzp:function(t,e,n){var s=n("rOcY"),a=(s.dev.proxyTable["/pro"].target,s.dev.proxyTable["/dev"].target),i=(s.dev.proxyTable["/mock"].target,"production");console.log("config="+i);var r={API_DAtestTA_getPrem:a+"/promote/standard/getPrem.json",test1:a+"/test1.json",goodsList:a+"/goods/list",createOrder:a+"/order/create"};t.exports=r},bX55:function(t,e,n){"use strict";n.r(e);var s=n("BU9d"),a=n.n(s),i=n("H/EE"),r=n.n(i),c=(n("dRp0"),n("Nlzp"),n("ygAv")),o={name:"Turntable",data:function(){return{dataSource:{},anliList:[{interactUrl:"",appId:""}],page_sessionid:"",page_udid:"",url:"",testName:"",header:{name:"九宫格转盘",desc:"九宫格转盘抽奖"},turnTime:0,turnStatus:!1,turntableList:[{key:0,name:"征途0",img:a.a},{key:1,name:"京东1",img:r.a},{key:2,name:"征途2",img:a.a},{key:3,name:"京东3",img:r.a},{key:4,name:"征途4",img:a.a},{key:5,name:"京东5",img:r.a},{key:6,name:"征途6",img:a.a},{key:7,name:"京东7",img:r.a},{key:8,name:"征途",img:a.a}],runTime:0,currentIndex:"",turntableTime1:5,giftKey:"结果获取中。。。",frequency:100,interval:{},giftList:[]}},computed:{turntableCell:function(t){var e=["turntable-cell"];return t===this.currentIndex&&e.push("shine"),e}},created:function(){Object(c.b)(this)},methods:{startGame:function(t){this.runTime=t,t&&t>1&&(this.runTime=t),this.getGift(),this.startTime()},startTime:function(){var t=this;if(!t.turnStatus){t.turnStatus=!0,t.turnTime++,t.resetParams(),t.turnTime<=1&&(t.currentIndex=0),console.log("------start------"),this.newInterval();var e=setInterval(function(){t.turntableTime1<1?(clearInterval(e),clearInterval(t.interval),t.goGift()):(t.turntableTime1--,t.frequency<1e3?(t.frequency=Number(t.frequency)+40,t.setTime(t.frequency)):clearInterval(e))},1e3)}},getGift:function(){var t=this,e=Number(this.turntableTime1)/2,n=Math.floor(Math.random()*Math.random()*10);n>=8&&(n=1);var s=setTimeout(function(){clearTimeout(s),t.giftKey=n,console.log("-----getGift-----")},1e3*e)},setTime:function(t){var e=t||self.frequency;clearInterval(this.interval),this.frequency=e,this.newInterval()},newInterval:function(){var t=this,e=this.frequency;this.interval=setInterval(function(){t.currentIndex<7?t.currentIndex=Number(t.currentIndex)+1:t.currentIndex=0},e)},resetParams:function(){this.turntableTime1=5,this.giftKey="结果获取中。。。",this.frequency=100,this.interval={}},goGift:function(){var t=this,e=this,n=(this.giftKey,Number(this.frequency)+100),s=setInterval(function(){if(t.turntableList[t.currentIndex].key==t.giftKey)return clearInterval(s),e.turnStatus=!1,e.runTime=Number(e.runTime)-1,console.log("------ end ------"),e.setGiftList(),void e.startAgain();t.currentIndex<7?t.currentIndex=Number(t.currentIndex)+1:t.currentIndex=0},n)},startAgain:function(){0!=this.runTime&&this.startGame(this.runTime)},setGiftList:function(){var t={},e=this.giftKey;this.turntableList.forEach(function(n){n.key==e&&(t=n)}),console.log(t);var n=this.giftList;n.push(t),this.giftList=n}}},u=(n("3k/7"),n("CY73")),l=Object(u.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"turntable-content"},[n("section",{staticClass:"turntable-main"},[n("section",{staticClass:"turntable-grid"},[t._l(t.turntableList,function(e,s){return[n("section",{key:s,class:s===t.currentIndex?"turntable-cell shine":"turntable-cell"},[8===s?n("section",{staticClass:"btn-cell"},[n("section",{staticClass:"btn",on:{click:function(e){t.startGame(1)}}},[t._v("抽奖一次")]),t._v(" "),n("section",{staticClass:"btn",on:{click:function(e){t.startGame(10)}}},[t._v("连抽十次")])]):n("section",{staticClass:"gift-cell"},[n("section",{staticClass:"gift-img",style:"background-image:url("+e.img+")"}),t._v(" "),n("section",{staticClass:"gift-name"},[t._v(t._s(e.name))])])])]})],2),t._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:t.turnStatus,expression:"turnStatus"}],staticClass:"turntable-shadow"})]),t._v(" "),n("section",{staticClass:"turntable-form"},[n("section",{staticClass:"turntable-line"},[n("section",{staticClass:"turntable-label"},[t._v("\n        得奖值（随机数）：\n      ")]),t._v(" "),n("section",{staticClass:"turntable-center"},[t._v("\n        "+t._s(t.giftKey)+"\n        ")])]),t._v(" "),n("section",{staticClass:"turntable-line"},[n("section",{staticClass:"turntable-label"},[t._v("\n        转动速率：\n      ")]),t._v(" "),n("section",{staticClass:"turntable-center"},[t._v("\n        "+t._s(t.frequency)+" 毫秒\n      ")])]),t._v(" "),n("section",{staticClass:"turntable-line"},[n("section",{staticClass:"turntable-label"},[t._v("\n        剩余时间：\n      ")]),t._v(" "),n("section",{staticClass:"turntable-center"},[t._v("\n        "+t._s(t.turntableTime1)+" 秒\n      ")])]),t._v(" "),n("section",{staticClass:"turntable-line"},[n("section",{staticClass:"turntable-label"},[t._v("\n        剩余次数：\n      ")]),t._v(" "),n("section",{staticClass:"turntable-center"},[t._v("\n        "+t._s(t.runTime)+" 次\n      ")])])]),t._v(" "),t.giftList.length>=1?n("section",{staticClass:"gift-room"},[n("section",{staticClass:"title"},[t._v("中奖列表")]),t._v(" "),n("section",{staticClass:"grid"},t._l(t.giftList,function(e,s){return n("section",{key:s,staticClass:"gift-cell"},[n("section",[e.img?n("img",{attrs:{src:e.img}}):t._e()]),t._v(" "),n("section",[t._v("名称："+t._s(e.name))]),t._v(" "),n("section",[t._v("key："+t._s(e.key))])])}))]):t._e()])},[],!1,null,"2451bb15",null).exports;e.default=l},dRp0:function(t,e,n){"use strict";n.d(e,"a",function(){return m}),n.d(e,"b",function(){return f});var s=n("6ZY3"),a=n.n(s),i=n("Asgo"),r=n.n(i),c=n("mfXL"),o=n("g1LA"),u=n("9h9Y"),l=n.n(u);c.a.use(o.a),c.a.http.options.emulateJSON=!1,c.a.http.options.emulateHTTP=!0;var m=function(t){var e=c.a.http,n=t.url,s=t.data;return e.get(l.a.callApi?""+l.a.host+n:""+l.a.mockHost+n,{params:s}).then(function(t){var e=t.data;return r.a.resolve(e)}).catch(function(t){return console.log("request get error:"),console.log(t),r.a.reject(t)})},f=function(t){var e=c.a.http,n=t.url,s=t.data;return t.emulateJSON&&(e.options.emulateJSON=t.emulateJSON),e.headers.post=a()({},e.headers.post,t.headers),e.post(l.a.callApi?""+l.a.host+n:""+l.a.mockHost+n,s).then(function(t){var e=t.data;return r.a.resolve(e)}).catch(function(t){return console.log("request post error:"),console.log(t),r.a.reject(t)})}},h6FY:function(t,e){t.exports={NODE_ENV:'"production"'}},nIWl:function(t,e,n){},nV6j:function(t,e,n){var s=n("hCNL"),a=n("h6FY");t.exports=s(a,{NODE_ENV:'"development"'})},rOcY:function(t,e,n){(function(e){var s=n("1N+A");t.exports={build:{env:n("h6FY"),index:s.resolve(e,"../dist/index.html"),assetsRoot:s.resolve(e,"../dist"),assetsSubDirectory:"static",assetsPublicPath:"./",productionSourceMap:!1,productionGzip:!1,productionGzipExtensions:["js","css"],bundleAnalyzerReport:Object({NODE_ENV:"production"}).npm_config_report,remUnit:24},dev:{env:n("nV6j"),port:8081,autoOpenBrowser:!0,assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{"/mock":{target:"https://www.easy-mock.com/mock/5b2b7cf09bd86a040ba4cba3",changeOrigin:!0,pathRewrite:{"^/mock":""}},"/dev":{target:"http://122.11.58.232:8003",changeOrigin:!0,pathRewrite:{"^/dev":""}},"/pro":{target:"https://ngc.ztgame.com",changeOrigin:!0,pathRewrite:{"^/pro":""}}},cssSourceMap:!1,remUnit:24}}}).call(this,"/")}}]);